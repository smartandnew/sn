<center>
  <% flash.each do |key, value| %>
      <% id= (key=="success") ? "success_messages" : "error_explanation" %>
      <div id=<%= id %>>
        <h2><%= value %></h2>
      </div>
  <% end %>
  <% if @user && @user.errors.full_messages.any? %>
      <div id="error_explanation">
        <% @user.errors.full_messages.each do |error_message| %>
            <h2><%= error_message if @user.errors.full_messages.first == error_message %></h2>
        <% end %>
      </div>
  <% end %>
  <% if @user_info && @user_info.errors.full_messages.any? %>
      <div id="error_explanation">
        <% @user_info.errors.full_messages.each do |error_message| %>
            <h2><%= error_message if @user_info.errors.full_messages.first == error_message %></h2>
        <% end %>
      </div>
  <% end %>
  <h1>Edit User info</h1>

  <%= form_tag ({controller: "admin", action: "update_searched_user_info"}), method: "post", remote: true do |f| %>

      <table>
        <tr>
          <td><h3>Username </h3></td>
          <td> : <%= text_field :user, :username %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Master credit</h3></td>
          <td> :<%= number_field :user, :master_credit %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Product credit</td>
          <td> : <%= number_field :user, :product_credit, in: 0.0..100000000.0 %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>First name</td>
          <td> :<%= text_field :user_info, :first_name %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Last name</td>
          <td> :<%= text_field :user_info, :last_name %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Email</td>
          <td> : <%= text_field :user_info, :email %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Mobile</td>
          <td> : <%= number_field :user_info, :mobile %> </td>
        </tr>

        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Land phone</td>
          <td> : <%= number_field :user_info, :land_phone %> </td>
        </tr>
        <tr>
          <td><h3>Address1</td>
          <td> :<%= text_area :user_info, :address1 %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Address2</td>
          <td> :<%= text_area :user_info, :address2 %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Postal code</td>
          <td> : <%= number_field :user_info, :postal_code %> </td>
        </tr>
        <tr>
          <td><h3>National id </h3></td>
          <td> : <%= number_field :user_info, :national_id %> </td>

        </tr>
        <tr>
          <td><h3>Birthdate</td>
          <td> :<%= date_field :user_info, :birthdate %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Gender</td>
          <td>Male :
            <%= radio_button :user_info, :gender, 'true', :checked => true %>Female
            :<%= radio_button :user_info, :gender, 'false' %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
        </tr>
        <tr>
          <td><h3>Social status </h3></td>
          <td>
            :   <%= collection_select :user_info, :status_id, Status.order(:name), :id, :name, including_blank: true %> </td>
        </tr>
        <tr>
          <td><h3>Country </h3></td>
          <td>
            : <%= select :user_info, :country_id, options_for_select(@countries.collect { |country| [country.name.titleize, country.id] }, 1), {}, {id: 'countries_select'} %> </td>
        </tr>
        <tr>
          <td><h3>Governorate </h3></td>
          <td>
            : <%= select :user_info, :governorate_id, options_for_select(@governorates.collect { |governorate| [governorate.name.titleize, governorate.id] }, 0), {}, {id: 'governorates_select'} %> </td>
        </tr>
        <tr>
          <td><h3>Region </h3></td>
          <td>
            : <%= select :user_info, :region_id, options_for_select(@regions.collect { |region| [region.name.titleize, region.id] }, 0), {}, {id: 'regions_select'} %> </td>
        </tr>
        <tr>
          <td>
            <br/>
          </td>
          <td><%= submit_tag "Update", :class => "button" %></td>
        </tr>
      </table>

  <% end %>
</center>
